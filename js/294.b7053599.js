"use strict";(self["webpackChunkproductivity_plus"]=self["webpackChunkproductivity_plus"]||[]).push([[294],{4034:function(t,e,i){i.d(e,{Z:function(){return c}});var n=i(3396),a=i(7139);function o(t,e,i,o,r,l){return(0,n.wg)(),(0,n.iD)("button",null,(0,a.zw)(i.text),1)}var r={props:{text:String}},l=i(89);const s=(0,l.Z)(r,[["render",o],["__scopeId","data-v-7f3dc646"]]);var c=s},294:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var n=i(3396),a=i(9242),o=i(7139);const r=t=>((0,n.dD)("data-v-bb470f7c"),t=t(),(0,n.Cn)(),t),l=r((()=>(0,n._)("h1",null,"Break Notifier",-1))),s={class:"break-notifier"},c=r((()=>(0,n._)("label",null,"Notification Heading",-1))),d=r((()=>(0,n._)("label",null,"Notification Text",-1))),u=r((()=>(0,n._)("label",null,"Interval (in minutes)",-1))),h=r((()=>(0,n._)("p",null,[(0,n._)("span",{class:"note"},"Note:"),(0,n.Uk)("Please allow browser notifications to be able to receive notifications ")],-1))),v={key:0,style:{color:"black"}},f={key:1,style:{color:"red"}};function p(t,e,i,r,p,g){const b=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[l,(0,n._)("div",s,[c,(0,n.wy)((0,n._)("textarea",{cols:"40",placeholder:"Take break to give rest to eyes and mind","onUpdate:modelValue":e[0]||(e[0]=t=>p.heading=t)},null,512),[[a.nr,p.heading]]),d,(0,n.wy)((0,n._)("textarea",{cols:"40",placeholder:"Drink water and close eyes for 5 mins","onUpdate:modelValue":e[1]||(e[1]=t=>p.text=t)},null,512),[[a.nr,p.text]]),u,(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>p.interval=t)},null,512),[[a.nr,p.interval]]),h,(0,n.Wm)(b,{text:"Save",onClick:e[3]||(e[3]=(0,a.iM)((t=>g.saveNotification()),["prevent"]))}),p.info?((0,n.wg)(),(0,n.iD)("div",v,(0,o.zw)(p.info),1)):(0,n.kq)("",!0),p.error?((0,n.wg)(),(0,n.iD)("div",f,(0,o.zw)(p.error),1)):(0,n.kq)("",!0)])],64)}var g=i(4034),b=i(23),w={components:{Button:g.Z},data(){return{heading:"",text:"",interval:0,error:"",info:"",notificationInterval:null}},mounted(){"granted"!==Notification.permission&&Notification.requestPermission(),b.j.get("/api/v1/notification").then((t=>{t.data.heading&&(this.heading=t.data.heading,this.text=t.data.text,this.interval=t.data.interval,notificationInterval=setInterval((()=>{new Notification(this.heading,{body:this.text,requireInteraction:!0})}),60*+this.interval*1e3))})).catch((t=>console.log(t)))},methods:{saveNotification(){if(this.heading&&this.text&&this.interval){if(this.interval<1)this.error="Interval should be atleast 1 minute";else{this.error="";const{heading:t,text:e,interval:i}=this;b.j.put("/api/v1/notification",{heading:t,text:e,interval:i}).then((t=>{this.info="Notification Data Saved Successfully",new Notification("Break Notifications are active now",{body:`Heading: ${this.heading}, Text: ${this.text}, Interval: ${this.interval} minutes`,requireInteraction:!0})})).catch((t=>{console.log(t),this.error="An Error occurred while saving the notification"}))}setTimeout((()=>{this.info="",this.error=""}),2e3)}else this.error="Please fill all the details!"}}},k=i(89);const x=(0,k.Z)(w,[["render",p],["__scopeId","data-v-bb470f7c"]]);var m=x}}]);
//# sourceMappingURL=294.b7053599.js.map